<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">Example</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/arose/ngl.git" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual" data-toc-name="overview">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h2" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#users" data-ice="link">Users</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#developers" data-ice="link">Developers</a></li>
</ul>
  </div>
<div data-ice="manual" data-toc-name="example">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h2" data-link="manual/example/snippets.html"><a href="manual/example/snippets.html#implementing-custom-default-representations" data-ice="link">Implementing custom default representations</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/example/snippets.html"><a href="manual/example/snippets.html#selection-based-coloring" data-ice="link">Selection-based coloring</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/example/snippets.html"><a href="manual/example/snippets.html#custom-coloring" data-ice="link">Custom coloring</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/example/snippets.html"><a href="manual/example/snippets.html#distance-based-selection" data-ice="link">Distance-based selection</a></li>
</ul>
  </div>
<div data-ice="manual" data-toc-name="reference">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1 manual-color manual-color-reference" data-section-count="&#x25A0;&#x25A0;&#x25A0;&#x25A0;&#x25A0;" data-link="identifiers.html"><a href="identifiers.html" data-ice="link">Reference</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="identifiers.html"><a href="identifiers.html#class" data-ice="link">Class</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="identifiers.html"><a href="identifiers.html#function" data-ice="link">Function</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="identifiers.html"><a href="identifiers.html#typedef" data-ice="link">Typedef</a></li>
</ul>
  </div>
<div data-ice="manual" data-toc-name="changelog">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1 manual-color manual-color-changelog" data-section-count="&#x25A0;&#x25A0;&#x25A0;&#x25A0;&#x25A0;" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html" data-ice="link">Change Log</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#-unreleased-" data-ice="link">Unreleased</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#added" data-ice="link">Added</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#changed" data-ice="link">Changed</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#removed" data-ice="link">Removed</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#-v0-9-3-2016-10-14" data-ice="link">v0.9.3 - 2016-10-14</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#changed" data-ice="link">Changed</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#-v0-9-2-2016-10-06" data-ice="link">v0.9.2 - 2016-10-06</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#changed" data-ice="link">Changed</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#-v0-9-1-2016-10-06" data-ice="link">v0.9.1 - 2016-10-06</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#changed" data-ice="link">Changed</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#-v0-9-0-2016-10-05" data-ice="link">v0.9.0 - 2016-10-05</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#added" data-ice="link">Added</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#changed" data-ice="link">Changed</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#removed" data-ice="link">Removed</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#-v0-8-2016-07-22" data-ice="link">v0.8 - 2016-07-22</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#added" data-ice="link">Added</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#changed" data-ice="link">Changed</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#removed" data-ice="link">Removed</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#-v0-7-1a-2016-06-02" data-ice="link">v0.7.1a - 2016-06-02</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#changed" data-ice="link">Changed</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#-v0-7-1-2016-06-02" data-ice="link">v0.7.1 - 2016-06-02</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#added" data-ice="link">Added</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#changed" data-ice="link">Changed</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#removed" data-ice="link">Removed</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#-v0-7-2016-05-08" data-ice="link">v0.7 - 2016-05-08</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#added" data-ice="link">Added</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#changed" data-ice="link">Changed</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#removed" data-ice="link">Removed</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#-v0-6-2015-10-12" data-ice="link">v0.6 - 2015-10-12</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#added" data-ice="link">Added</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#changed" data-ice="link">Changed</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#removed" data-ice="link">Removed</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#v0-5-2015-30-04" data-ice="link">v0.5 - 2015-30-04</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/CHANGELOG.html"><a href="manual/changelog/CHANGELOG.html#added" data-ice="link">Added</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown">
  <div class="manual-breadcrumb-list">
    <a href="./manual/./index.html">Manual</a>
    <span>&#xBB;</span>
    <span data-ice="title">Example</span>
  </div>
  <div data-ice="content"><p>A collection of NGL snippets</p>
<h2 id="implementing-custom-default-representations">Implementing custom default representations</h2>
<p>Start by creating a function that adds the wanted representations to a component. See also {@ StructureComponent.addRepresentation}.</p>
<pre><code><code class="source-code prettyprint">function defaultStructureRepresentation( component ){
    // bail out if the component does not contain a structure
    if( component.type !== &quot;structure&quot; ) return;
    // add three representations
    component.addRepresentation( &quot;cartoon&quot;, {
        aspectRatio: 3.0,
        scale: 1.5
    } );
    component.addRepresentation( &quot;licorice&quot;, {
        sele: &quot;hetero and not ( water or ion )&quot;,
        multipleBond: true
    } );
    component.addRepresentation( &quot;spacefill&quot;, {
        sele: &quot;water or ion&quot;,
        scale: 0.5
    } );
}</code>
</code></pre><p>Pass that function as a callback whenever you load a structure file via {@link Stage#loadFile}.</p>
<pre><code><code class="source-code prettyprint">stage.loadFile( &quot;rcsb://1crn&quot; ).then( defaultStructureRepresentation );
stage.loadFile( &quot;rcsb://4hhb&quot; ).then( defaultStructureRepresentation );</code>
</code></pre><p>Note that the same strategy works for surface and volume files loaded into a {@link SurfaceComponent}.</p>
<h2 id="selection-based-coloring">Selection-based coloring</h2>
<p>Supply a list with pairs of colorname and selection for coloring by selections.
Use the last entry as a default (catch all) coloring definition.</p>
<pre><code><code class="source-code prettyprint">var schemeId = NGL.ColormakerRegistry.addSelectionScheme( [
    [ &quot;red&quot;, &quot;64-74 or 134-154 or 222-254 or 310-310 or 322-326&quot; ],
    [ &quot;green&quot;, &quot;311-322&quot; ],
    [ &quot;yellow&quot;, &quot;40-63 or 75-95 or 112-133 or 155-173 or 202-221 or 255-277 or 289-309&quot; ],
    [ &quot;blue&quot;, &quot;1-39 or 96-112 or 174-201 or 278-288&quot; ],
    [ &quot;white&quot;, &quot;*&quot; ]
], &quot;Transmembrane 3dqb&quot; );

stage.loadFile( &quot;rcsb://3dqb.pdb&quot; ).then( function( o ){
    o.addRepresentation( &quot;cartoon&quot;, { color: schemeId } );  // pass schemeId here
    o.autoView();
} );</code>
</code></pre><h2 id="custom-coloring">Custom coloring</h2>
<p>Create a class with a <code>atomColor</code> method that returns a hex color.</p>
<pre><code><code class="source-code prettyprint">var schemeId = NGL.ColormakerRegistry.addScheme( function( params ){
    this.atomColor = function( atom ){
        if( atom.serial &lt; 1000 ){
            return 0x0000FF;  // blue
        }else if( atom.serial &gt; 2000 ){
            return 0xFF0000;  // red
        }else{
            return 0x00FF00;  // green
        }
    };
} );

stage.loadFile( &quot;rcsb://3dqb.pdb&quot; ).then( function( o ){
    o.addRepresentation( &quot;cartoon&quot;, { color: schemeId } );  // pass schemeId here
    o.autoView();
} );</code>
</code></pre><h2 id="distance-based-selection">Distance-based selection</h2>
<p>Get a selection of atoms that are within a certain distance of another selection.</p>
<pre><code><code class="source-code prettyprint">stage.loadFile( &quot;rcsb://3pqr&quot; ).then( function( o ){
    // get all atoms within 5 Angstrom of retinal
    var selection = new NGL.Selection( &quot;RET&quot; );
    var radius = 5;
    var atomSet = o.structure.getAtomSetWithinSelection( selection, radius );
    // expand selection to complete groups
    var atomSet2 = o.structure.getAtomSetWithinGroup( atomSet );
    o.addRepresentation( &quot;licorice&quot;, { sele: atomSet2.toSeleString() } );
    o.addRepresentation( &quot;cartoon&quot; );
    o.autoView();
} );</code>
</code></pre></div>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>

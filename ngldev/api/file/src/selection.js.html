<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">src/selection.js | NGL Viewer API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header><span>NGL@0.10.0-dev.20</span>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a href="./../gallery/index.html">Gallery</a><a data-ice="repoURL" href="https://github.com/arose/ngl.git" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/script.js~Script.html">Script</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/selection.js~Selection.html">Selection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-binarySearchIndexOf">binarySearchIndexOf</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Browser">Browser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ColormakerRegistry">ColormakerRegistry</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ExtensionFragDepth">ExtensionFragDepth</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Mobile">Mobile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Version">Version</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://threejs.org/docs/#api/math/Box3">Box3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://threejs.org/docs/#api/core/BufferGeometry">BufferGeometry</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">Char</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://threejs.org/docs/#api/math/Color">Color</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://threejs.org/docs/#api/math/Euler">Euler</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Float</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Integer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://threejs.org/docs/#api/math/Matrix3">Matrix3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://threejs.org/docs/#api/math/Matrix4">Matrix4</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://threejs.org/docs/#api/math/Plane">Plane</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://threejs.org/docs/#api/math/Quaternion">Quaternion</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://millermedeiros.github.io/js-signals/docs/symbols/Signal.html">Signal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray">TypedArray</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://threejs.org/docs/#api/math/Vector2">Vector2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://threejs.org/docs/#api/math/Vector3">Vector3</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">align</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-superpose">superpose</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">animation</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/animation/animation.js~MoveAnimation.html">MoveAnimation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/animation/animation.js~RockAnimation.html">RockAnimation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/animation/animation.js~RotateAnimation.html">RotateAnimation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/animation/animation.js~SpinAnimation.html">SpinAnimation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/animation/animation.js~ZoomAnimation.html">ZoomAnimation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/animation/animation.js~Animation.html">Animation</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">buffer</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/arrow-buffer.js~ArrowBuffer.html">ArrowBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/cone-buffer.js~ConeBuffer.html">ConeBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/conegeometry-buffer.js~ConeGeometryBuffer.html">ConeGeometryBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/contour-buffer.js~ContourBuffer.html">ContourBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/cylinder-buffer.js~CylinderBuffer.html">CylinderBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/cylindergeometry-buffer.js~CylinderGeometryBuffer.html">CylinderGeometryBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/cylinderimpostor-buffer.js~CylinderImpostorBuffer.html">CylinderImpostorBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/doublesided-buffer.js~DoubleSidedBuffer.html">DoubleSidedBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/ellipsoid-buffer.js~EllipsoidBuffer.html">EllipsoidBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/ellipsoidgeometry-buffer.js~EllipsoidGeometryBuffer.html">EllipsoidGeometryBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/hyperballstick-buffer.js~HyperballStickBuffer.html">HyperballStickBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/hyperballstickimpostor-buffer.js~HyperballStickImpostorBuffer.html">HyperballStickImpostorBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/image-buffer.js~ImageBuffer.html">ImageBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/line-buffer.js~LineBuffer.html">LineBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/mesh-buffer.js~MeshBuffer.html">MeshBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/point-buffer.js~PointBuffer.html">PointBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/ribbon-buffer.js~RibbonBuffer.html">RibbonBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/sphere-buffer.js~SphereBuffer.html">SphereBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/spheregeometry-buffer.js~SphereGeometryBuffer.html">SphereGeometryBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/sphereimpostor-buffer.js~SphereImpostorBuffer.html">SphereImpostorBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/surface-buffer.js~SurfaceBuffer.html">SurfaceBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/text-buffer.js~TextBuffer.html">TextBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/trace-buffer.js~TraceBuffer.html">TraceBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/tubemesh-buffer.js~TubeMeshBuffer.html">TubeMeshBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/buffer/vector-buffer.js~VectorBuffer.html">VectorBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/buffer/alignedbox-buffer.js~AlignedBoxBuffer.html">AlignedBoxBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/buffer/box-buffer.js~BoxBuffer.html">BoxBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/buffer/buffer.js~Buffer.html">Buffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/buffer/geometry-buffer.js~GeometryBuffer.html">GeometryBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/buffer/mapped-buffer.js~MappedBuffer.html">MappedBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/buffer/quad-buffer.js~QuadBuffer.html">QuadBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-BufferParameters">BufferParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TextBufferParameters">TextBufferParameters</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">color</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/atomindex-colormaker.js~AtomindexColormaker.html">AtomindexColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/bfactor-colormaker.js~BfactorColormaker.html">BfactorColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/chainid-colormaker.js~ChainidColormaker.html">ChainidColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/chainindex-colormaker.js~ChainindexColormaker.html">ChainindexColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/chainname-colormaker.js~ChainnameColormaker.html">ChainnameColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/colormaker-registry.js~ColormakerRegistry.html">ColormakerRegistry</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/densityfit-colormaker.js~DensityfitColormaker.html">DensityfitColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/element-colormaker.js~ElementColormaker.html">ElementColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/entityindex-colormaker.js~EntityindexColormaker.html">EntityindexColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/entitytype-colormaker.js~EntitytypeColormaker.html">EntitytypeColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/geoquality-colormaker.js~GeoqualityColormaker.html">GeoqualityColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/hydrophobicity-colormaker.js~HydrophobicityColormaker.html">HydrophobicityColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/modelindex-colormaker.js~ModelindexColormaker.html">ModelindexColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/moleculetype-colormaker.js~MoleculetypeColormaker.html">MoleculetypeColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/occupancy-colormaker.js~OccupancyColormaker.html">OccupancyColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/random-colormaker.js~RandomColormaker.html">RandomColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/residueindex-colormaker.js~ResidueindexColormaker.html">ResidueindexColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/resname-colormaker.js~ResnameColormaker.html">ResnameColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/selection-colormaker.js~SelectionColormaker.html">SelectionColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/sstruc-colormaker.js~SstrucColormaker.html">SstrucColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/uniform-colormaker.js~UniformColormaker.html">UniformColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/value-colormaker.js~ValueColormaker.html">ValueColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/color/volume-colormaker.js~VolumeColormaker.html">VolumeColormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/color/colormaker.js~Colormaker.html">Colormaker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ColormakerParameters">ColormakerParameters</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">component</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/representation-component.js~RepresentationComponent.html">RepresentationComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/script-component.js~ScriptComponent.html">ScriptComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/shape-component.js~ShapeComponent.html">ShapeComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/structure-component.js~StructureComponent.html">StructureComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/surface-component.js~SurfaceComponent.html">SurfaceComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/trajectory-component.js~TrajectoryComponent.html">TrajectoryComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/volume-component.js~VolumeComponent.html">VolumeComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/component/component.js~Component.html">Component</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ComponentParameters">ComponentParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ComponentSignals">ComponentSignals</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-RepresentationComponentSignals">RepresentationComponentSignals</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StructureComponentSignals">StructureComponentSignals</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TrajectoryComponentParameters">TrajectoryComponentParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TrajectoryComponentSignals">TrajectoryComponentSignals</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">controls</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/animation-controls.js~AnimationControls.html">AnimationControls</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/picking-controls.js~PickingControls.html">PickingControls</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/picking-proxy.js~PickingProxy.html">PickingProxy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/trackball-controls.js~TrackballControls.html">TrackballControls</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/viewer-controls.js~ViewerControls.html">ViewerControls</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-PickingData">PickingData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-OrientationMatrix">OrientationMatrix</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">geometry</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/geometry/shape.js~Shape.html">Shape</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">loader</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/loader/loader.js~Loader.html">Loader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/loader/parser-loader.js~ParserLoader.html">ParserLoader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/loader/plugin-loader.js~PluginLoader.html">PluginLoader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/loader/script-loader.js~ScriptLoader.html">ScriptLoader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-autoLoad">autoLoad</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LoaderParameters">LoaderParameters</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">math</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/math/principal-axes.js~PrincipalAxes.html">PrincipalAxes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-quicksortIP">quicksortIP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-lineLineIntersect">lineLineIntersect</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">parser</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/parser/csv-parser.js~CsvParser.html">CsvParser</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">proxy</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/proxy/atom-proxy.js~AtomProxy.html">AtomProxy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/proxy/bond-proxy.js~BondProxy.html">BondProxy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/proxy/chain-proxy.js~ChainProxy.html">ChainProxy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/proxy/model-proxy.js~ModelProxy.html">ModelProxy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/proxy/polymer.js~Polymer.html">Polymer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/proxy/residue-proxy.js~ResidueProxy.html">ResidueProxy</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">representation</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/axes-representation.js~AxesRepresentation.html">AxesRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/backbone-representation.js~BackboneRepresentation.html">BackboneRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/ballandstick-representation.js~BallAndStickRepresentation.html">BallAndStickRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/base-representation.js~BaseRepresentation.html">BaseRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/buffer-representation.js~BufferRepresentation.html">BufferRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/cartoon-representation.js~CartoonRepresentation.html">CartoonRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/distance-representation.js~DistanceRepresentation.html">DistanceRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/label-representation.js~LabelRepresentation.html">LabelRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/licorice-representation.js~LicoriceRepresentation.html">LicoriceRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/line-representation.js~LineRepresentation.html">LineRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/representation.js~Representation.html">Representation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/structure-representation.js~StructureRepresentation.html">StructureRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/surface-representation.js~SurfaceRepresentation.html">SurfaceRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/trajectory-representation.js~TrajectoryRepresentation.html">TrajectoryRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/representation/validation-representation.js~ValidationRepresentation.html">ValidationRepresentation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-BallAndStickRepresentationParameters">BallAndStickRepresentationParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DistanceRepresentationParameters">DistanceRepresentationParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LabelRepresentationParameters">LabelRepresentationParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-RepresentationParameters">RepresentationParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StructureRepresentationParameters">StructureRepresentationParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SurfaceRepresentationParameters">SurfaceRepresentationParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TrajectoryRepresentationParameters">TrajectoryRepresentationParameters</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">stage</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stage/mouse-observer.js~MouseObserver.html">MouseObserver</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stage/stage.js~Stage.html">Stage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MouseSignals">MouseSignals</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StageParameters">StageParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StageSignals">StageSignals</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">store</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-AtomStore">AtomStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-AtomType">AtomType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BondStore">BondStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ChainStore">ChainStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ModelStore">ModelStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ResidueStore">ResidueStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ResidueType">ResidueType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Store">Store</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">structure</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/structure/entity.js~Entity.html">Entity</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/structure/structure-view.js~StructureView.html">StructureView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/structure/structure.js~Structure.html">Structure</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-assignResidueTypeBonds">assignResidueTypeBonds</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StructureHeader">StructureHeader</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">surface</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/surface/volume.js~Volume.html">Volume</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-AVHash">AVHash</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Surface">Surface</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">symmetry</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/symmetry/assembly.js~Assembly.html">Assembly</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/symmetry/unitcell.js~Unitcell.html">Unitcell</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">trajectory</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/trajectory/trajectory-player.js~TrajectoryPlayer.html">TrajectoryPlayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/trajectory/trajectory.js~Trajectory.html">Trajectory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TrajectoryPlayerParameters">TrajectoryPlayerParameters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TrajectoryParameters">TrajectoryParameters</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">utils</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/counter.js~Counter.html">Counter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/utils/picker.js~Picker.html">Picker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/utils/picker.js~ShapePicker.html">ShapePicker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BinaryHeap">BinaryHeap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Kdtree">Kdtree</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">viewer</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-makeImage">makeImage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Viewer">Viewer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ImageParameters">ImageParameters</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/selection.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
 * @file Selection
 * @author Alexander Rose &lt;alexander.rose@weirdbyte.de&gt;
 * @private
 */


import Signal from &quot;../lib/signals.es6.js&quot;;

import { binarySearchIndexOf, rangeInSortedArray } from &quot;./utils.js&quot;;


const kwd = {
    &quot;PROTEIN&quot;: 1,
    &quot;NUCLEIC&quot;: 2,
    &quot;RNA&quot;: 3,
    &quot;DNA&quot;: 4,
    &quot;POLYMER&quot;: 5,
    &quot;WATER&quot;: 6,
    &quot;HELIX&quot;: 7,
    &quot;SHEET&quot;: 8,
    &quot;BACKBONE&quot;: 9,
    &quot;SIDECHAIN&quot;: 10,
    &quot;ALL&quot;: 11,
    &quot;HETERO&quot;: 12,
    &quot;ION&quot;: 13,
    &quot;SACCHARIDE&quot;: 14
};


/**
 * Selection
 */
class Selection{

    /**
     * Create Selection
     * @param {String} string - selection string, see {@tutorial selection-language}
     */
    constructor( string ){

        this.signals = {
            stringChanged: new Signal(),
        };

        this.setString( string );

    }

    get type(){ return &quot;selection&quot;; }

    setString( string, silent ){

        if( string === undefined ) string = this.string || &quot;&quot;;
        if( string === this.string ) return;

        //

        try{
            this.parse( string );
        }catch( e ){
            // Log.error( e.stack );
            this.selection = { &quot;error&quot;: e.message };
        }

        this.string = string;

        this.test = this.makeAtomTest();
        this.residueTest = this.makeResidueTest();
        this.chainTest = this.makeChainTest();
        this.modelTest = this.makeModelTest();

        this.atomOnlyTest = this.makeAtomTest( true );
        this.residueOnlyTest = this.makeResidueTest( true );
        this.chainOnlyTest = this.makeChainTest( true );
        this.modelOnlyTest = this.makeModelTest( true );

        if( !silent ){
            this.signals.stringChanged.dispatch( this.string );
        }

    }

    parse( string ){

        this.selection = {
            operator: undefined,
            rules: []
        };

        if( !string ) return;

        var scope = this;

        var selection = this.selection;
        var selectionStack = [];
        var newSelection, oldSelection;

        string = string.replace( /\(/g, &apos; ( &apos; ).replace( /\)/g, &apos; ) &apos; ).trim();
        if( string.charAt( 0 ) === &quot;(&quot; &amp;&amp; string.substr( -1 ) === &quot;)&quot; ){
            string = string.slice( 1, -1 ).trim();
        }
        var chunks = string.split( /\s+/ );

        // Log.log( string, chunks )

        var all = [ &quot;*&quot;, &quot;&quot;, &quot;ALL&quot; ];

        var c, sele, i, not;
        var atomname, chain, model, resi, altloc, inscode;

        var createNewContext = function( operator ){

            newSelection = {
                operator: operator,
                rules: []
            };
            if( selection === undefined ){
                selection = newSelection;
                scope.selection = newSelection;
            }else{
                selection.rules.push( newSelection );
                selectionStack.push( selection );
                selection = newSelection;
            }

        };

        var getPrevContext = function( operator ){

            oldSelection = selection;
            selection = selectionStack.pop();
            if( selection === undefined ){
                createNewContext( operator );
                pushRule( oldSelection );
            }

        };

        var pushRule = function( rule ){

            selection.rules.push( rule );

        };

        for( i = 0; i &lt; chunks.length; ++i ){

            c = chunks[ i ];

            // handle parens

            if( c === &quot;(&quot; ){

                // Log.log( &quot;(&quot; );

                not = false;
                createNewContext();
                continue;

            }else if( c === &quot;)&quot; ){

                // Log.log( &quot;)&quot; );

                getPrevContext();
                if( selection.negate ){
                    getPrevContext();
                }
                continue;

            }

            // leave &apos;not&apos; context

            if( not &gt; 0 ){

                if( c.toUpperCase() === &quot;NOT&quot; ){

                    not = 1;

                }else if( not === 1 ){

                    not = 2;

                }else if( not === 2 ){

                    not = false;
                    getPrevContext();

                }else{

                    throw new Error( &quot;something went wrong with &apos;not&apos;&quot; );

                }

            }

            // handle logic operators

            if( c.toUpperCase() === &quot;AND&quot; ){

                // Log.log( &quot;AND&quot; );

                if( selection.operator === &quot;OR&quot; ){
                    var lastRule = selection.rules.pop();
                    createNewContext( &quot;AND&quot; );
                    pushRule( lastRule );
                }else{
                    selection.operator = &quot;AND&quot;;
                }
                continue;

            }else if( c.toUpperCase() === &quot;OR&quot; ){

                // Log.log( &quot;OR&quot; );

                if( selection.operator === &quot;AND&quot; ){
                    getPrevContext( &quot;OR&quot; );
                }else{
                    selection.operator = &quot;OR&quot;;
                }
                continue;

            }else if( c.toUpperCase() === &quot;NOT&quot; ){

                // Log.log( &quot;NOT&quot;, j );

                not = 1;
                createNewContext();
                selection.negate = true;
                continue;

            }else{

                // Log.log( &quot;chunk&quot;, c, j, selection );

            }

            // handle keyword attributes

            sele = {};

            if( c.toUpperCase() === &quot;HETERO&quot; ){
                sele.keyword = kwd.HETERO;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;WATER&quot; ){
                sele.keyword = kwd.WATER;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;PROTEIN&quot; ){
                sele.keyword = kwd.PROTEIN;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;NUCLEIC&quot; ){
                sele.keyword = kwd.NUCLEIC;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;RNA&quot; ){
                sele.keyword = kwd.RNA;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;DNA&quot; ){
                sele.keyword = kwd.DNA;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;POLYMER&quot; ){
                sele.keyword = kwd.POLYMER;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;ION&quot; ){
                sele.keyword = kwd.ION;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;SACCHARIDE&quot; || c.toUpperCase() === &quot;SUGAR&quot; ){
                sele.keyword = kwd.SACCHARIDE;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;HYDROGEN&quot; ){
                sele.element = &quot;H&quot;;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;SMALL&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { resname: &quot;GLY&quot; },
                        { resname: &quot;ALA&quot; }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;NUCLEOPHILIC&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { resname: &quot;SER&quot; },
                        { resname: &quot;THR&quot; },
                        { resname: &quot;CYS&quot; }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;HYDROPHOBIC&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { resname: &quot;VAL&quot; },
                        { resname: &quot;LEU&quot; },
                        { resname: &quot;ILE&quot; },
                        { resname: &quot;MET&quot; },
                        { resname: &quot;PRO&quot; }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;AROMATIC&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { resname: &quot;PHE&quot; },
                        { resname: &quot;TYR&quot; },
                        { resname: &quot;TRP&quot; }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;AMIDE&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { resname: &quot;ASN&quot; },
                        { resname: &quot;GLN&quot; }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;ACIDIC&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { resname: &quot;ASP&quot; },
                        { resname: &quot;GLU&quot; }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;BASIC&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { resname: &quot;HIS&quot; },
                        { resname: &quot;LYS&quot; },
                        { resname: &quot;ARG&quot; }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;CHARGED&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { resname: &quot;ASP&quot; },
                        { resname: &quot;GLU&quot; },
                        { resname: &quot;HIS&quot; },
                        { resname: &quot;LYS&quot; },
                        { resname: &quot;ARG&quot; }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;POLAR&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { resname: &quot;ASP&quot; },
                        { resname: &quot;GLU&quot; },
                        { resname: &quot;HIS&quot; },
                        { resname: &quot;LYS&quot; },
                        { resname: &quot;ARG&quot; },
                        { resname: &quot;ASN&quot; },
                        { resname: &quot;GLN&quot; },
                        { resname: &quot;SER&quot; },
                        { resname: &quot;THR&quot; },
                        { resname: &quot;TYR&quot; }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;NONPOLAR&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { resname: &quot;ALA&quot; },
                        { resname: &quot;CYS&quot; },
                        { resname: &quot;GLY&quot; },
                        { resname: &quot;ILE&quot; },
                        { resname: &quot;LEU&quot; },
                        { resname: &quot;MET&quot; },
                        { resname: &quot;PHE&quot; },
                        { resname: &quot;PRO&quot; },
                        { resname: &quot;VAL&quot; },
                        { resname: &quot;TRP&quot; }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;HELIX&quot; ){
                sele.keyword = kwd.HELIX;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;SHEET&quot; ){
                sele.keyword = kwd.SHEET;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;TURN&quot; ){
                sele = {
                    operator: &quot;AND&quot;,
                    rules: [
                        {
                            operator: &quot;OR&quot;,
                            negate: true,
                            rules: [
                                { keyword: kwd.HELIX },
                                { keyword: kwd.SHEET }
                            ]
                        },
                        {
                            operator: &quot;OR&quot;,
                            rules: [
                                { keyword: kwd.PROTEIN },
                                { sstruc: &quot;s&quot; },
                                { sstruc: &quot;t&quot; },
                                { sstruc: &quot;l&quot; }
                            ]
                        }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;BACKBONE&quot; ){
                sele.keyword = kwd.BACKBONE;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;SIDECHAIN&quot; ){
                sele.keyword = kwd.SIDECHAIN;
                pushRule( sele );
                continue;
            }

            if( c.toUpperCase() === &quot;SIDECHAINATTACHED&quot; ){
                sele = {
                    operator: &quot;OR&quot;,
                    rules: [
                        { keyword: kwd.SIDECHAIN },
                        {
                            operator: &quot;AND&quot;,
                            negate: false,
                            rules: [
                                { keyword: kwd.PROTEIN },
                                {
                                    operator: &quot;OR&quot;,
                                    negate: false,
                                    rules: [
                                        { atomname: &quot;CA&quot; },
                                        { atomname: &quot;BB&quot; }
                                    ]
                                }
                            ]
                        },
                        {
                            operator: &quot;AND&quot;,
                            negate: false,
                            rules: [
                                { resname: &quot;PRO&quot; },
                                { atomname: &quot;N&quot; }
                            ]
                        },
                        {
                            operator: &quot;AND&quot;,
                            negate: false,
                            rules: [
                                { keyword: kwd.NUCLEIC },
                                {
                                    operator: &quot;OR&quot;,
                                    negate: true,
                                    rules: [
                                        { atomname: &quot;P&quot; },
                                        { atomname: &quot;OP1&quot; },
                                        { atomname: &quot;OP2&quot; },
                                        { atomname: &quot;O3&apos;&quot; },
                                        { atomname: &quot;O3*&quot; },
                                        { atomname: &quot;O5&apos;&quot; },
                                        { atomname: &quot;O5*&quot; },
                                        { atomname: &quot;C5&apos;&quot; },
                                        { atomname: &quot;C5*&quot; }
                                    ]
                                }
                            ]
                        }
                    ]
                };
                pushRule( sele );
                continue;
            }

            if( all.indexOf( c.toUpperCase() )!==-1 ){
                sele.keyword = kwd.ALL;
                pushRule( sele );
                continue;
            }

            // handle atom expressions

            if( c.charAt( 0 ) === &quot;@&quot; ){
                var indexList = c.substr( 1 ).split( &quot;,&quot; );
                for( var k = 0, kl = indexList.length; k &lt; kl; ++k ){
                    indexList[ k ] = parseInt( indexList[ k ] );
                }
                indexList.sort( function( a, b ){ return a - b; } );
                sele.atomindex = indexList;
                pushRule( sele );
                continue;
            }

            if( c.charAt( 0 ) === &quot;#&quot; ){
                console.error( &quot;# for element selection deprecated, use _&quot; );
                sele.element = c.substr( 1 ).toUpperCase();
                pushRule( sele );
                continue;
            }
            if( c.charAt( 0 ) === &quot;_&quot; ){
                sele.element = c.substr( 1 ).toUpperCase();
                pushRule( sele );
                continue;
            }

            if( c[0] === &quot;[&quot; &amp;&amp; c[c.length-1] === &quot;]&quot; ){
                sele.resname = c.substr( 1, c.length-2 ).toUpperCase();
                pushRule( sele );
                continue;
            }else if( ( c.length &gt;= 1 &amp;&amp; c.length &lt;= 4 ) &amp;&amp;
                    c[0] !== &quot;^&quot; &amp;&amp; c[0] !== &quot;:&quot; &amp;&amp; c[0] !== &quot;.&quot; &amp;&amp; c[0] !== &quot;%&quot; &amp;&amp; c[0] !== &quot;/&quot; &amp;&amp;
                    isNaN( parseInt( c ) ) ){

                sele.resname = c.toUpperCase();
                pushRule( sele );
                continue;
            }

            // there must be only one constraint per rule
            // otherwise a test quickly becomes not applicable
            // e.g. chainTest for chainname when resno is present too

            sele = {
                operator: &quot;AND&quot;,
                rules: []
            };

            model = c.split( &quot;/&quot; );
            if( model.length &gt; 1 &amp;&amp; model[1] ){
                if( isNaN( parseInt( model[1] ) ) ){
                    throw new Error( &quot;model must be an integer&quot; );
                }
                sele.rules.push( {
                    model: parseInt( model[1] )
                } );
            }

            altloc = model[0].split( &quot;%&quot; );
            if( altloc.length &gt; 1 ){
                sele.rules.push( {
                    altloc: altloc[1]
                } );
            }

            atomname = altloc[0].split( &quot;.&quot; );
            if( atomname.length &gt; 1 &amp;&amp; atomname[1] ){
                if( atomname[1].length &gt; 4 ){
                    throw new Error( &quot;atomname must be one to four characters&quot; );
                }
                sele.rules.push( {
                    atomname: atomname[1].substring( 0, 4 ).toUpperCase()
                } );
            }

            chain = atomname[0].split( &quot;:&quot; );
            if( chain.length &gt; 1 &amp;&amp; chain[1] ){
                sele.rules.push( {
                    chainname: chain[1]
                } );
            }

            inscode = chain[0].split( &quot;^&quot; );
            if( inscode.length &gt; 1 ){
                sele.rules.push( {
                    inscode: inscode[1]
                } );
            }

            if( inscode[0] ){
                var negate, negate2;
                if( inscode[0][0] === &quot;-&quot; ){
                    inscode[0] = inscode[0].substr( 1 );
                    negate = true;
                }
                if( inscode[0].includes( &quot;--&quot; ) ){
                    inscode[0] = inscode[0].replace( &quot;--&quot;, &quot;-&quot; );
                    negate2 = true;
                }
                resi = inscode[0].split( &quot;-&quot; );
                if( resi.length === 1 ){
                    resi = parseInt( resi[0] );
                    if( isNaN( resi ) ){
                        throw new Error( &quot;resi must be an integer&quot; );
                    }
                    if( negate ) resi *= -1;
                    sele.rules.push( {
                        resno: resi
                    } );
                }else if( resi.length === 2 ){
                    if( negate ) resi[0] *= -1;
                    if( negate2 ) resi[1] *= -1;
                    sele.rules.push( {
                        resno: [ parseInt( resi[0] ), parseInt( resi[1] ) ]
                    } );
                }else{
                    throw new Error( &quot;resi range must contain one &apos;-&apos;&quot; );
                }
            }

            // round up

            if( sele.rules.length === 1 ){
                pushRule( sele.rules[ 0 ] );
            }else if( sele.rules.length &gt; 1 ){
                pushRule( sele );
            }else{
                throw new Error( &quot;empty selection chunk&quot; );
            }

        }

        // cleanup

        if( this.selection.operator === undefined &amp;&amp;
                this.selection.rules.length === 1 &amp;&amp;
                this.selection.rules[ 0 ].hasOwnProperty( &quot;operator&quot; ) ){

            this.selection = this.selection.rules[ 0 ];

        }

    }

    _makeTest( fn, selection ){

        if( selection === undefined ) selection = this.selection;
        if( selection === null ) return false;
        if( selection.error ) return false;

        var n = selection.rules.length;
        if( n === 0 ) return false;

        var t = selection.negate ? false : true;
        var f = selection.negate ? true : false;

        var s, and, ret, na;
        var subTests = [];

        for( var i = 0; i &lt; n; ++i ){
            s = selection.rules[ i ];
            if( s.hasOwnProperty( &quot;operator&quot; ) ){
                subTests[ i ] = this._makeTest( fn, s );
            }
        }

        // ( x and y ) can short circuit on false
        // ( x or y ) can short circuit on true
        // not ( x and y )

        return function test( entity ){

            and = selection.operator === &quot;AND&quot;;
            na = false;

            for( var i = 0; i &lt; n; ++i ){

                s = selection.rules[ i ];

                if( s.hasOwnProperty( &quot;operator&quot; ) ){

                    if( subTests[ i ] ){
                        ret = subTests[ i ]( entity );
                    }else{
                        ret = -1;
                    }

                    if( ret === -1 ){
                        // return -1;
                        na = true;
                        continue;
                    }else if( ret === true ){
                        if( and ){ continue; }else{ return t; }
                    }else{
                        if( and ){ return f; }else{ continue; }
                    }

                }else{

                    if( s.keyword===kwd.ALL ){
                        if( and ){ continue; }else{ return t; }
                    }

                    ret = fn( entity, s );

                    // console.log( entity.qualifiedName(), ret, s, selection.negate, &quot;t&quot;, t, &quot;f&quot;, f )

                    if( ret === -1 ){
                        // return -1;
                        na = true;
                        continue;
                    }else if( ret === true ){
                        if( and ){ continue; }else{ return t; }
                    }else{
                        if( and ){ return f; }else{ continue; }
                    }

                }

            }

            if( na ){
                return -1;
            }else{
                if( and ){ return t; }else{ return f; }
            }

        };

    }

    _filter( fn, selection ){

        if( selection === undefined ) selection = this.selection;
        if( selection.error ) return selection;

        var n = selection.rules.length;
        if( n === 0 ) return selection;

        var filtered = {
            operator: selection.operator,
            rules: []
        };
        if( selection.hasOwnProperty( &quot;negate&quot; ) ){
            filtered.negate = selection.negate;
        }

        for( var i = 0; i &lt; n; ++i ){

            var s = selection.rules[ i ];
            if( s.hasOwnProperty( &quot;operator&quot; ) ){
                var fs = this._filter( fn, s );
                if( fs !== null ) filtered.rules.push( fs );
            }else if( !fn( s ) ){
                filtered.rules.push( s );
            }

        }

        if( filtered.rules.length &gt; 0 ){

            // TODO maybe the filtered rules could be returned
            // in some case, but the way how tests are applied
            // e.g. when traversing a structure would also need
            // to change
            return selection;
            // return filtered;

        }else{

            return null;

        }

    }

    makeAtomTest( atomOnly ){

        var helixTypes = [ &quot;h&quot;, &quot;g&quot;, &quot;i&quot; ];
        var sheetTypes = [ &quot;e&quot;, &quot;b&quot; ];

        var selection;

        if( atomOnly ){

            // console.log( this.selection )

            selection = this._filter( function( s ){
                if( s.keyword!==undefined &amp;&amp;
                        s.keyword!==kwd.BACKBONE &amp;&amp; s.keyword!==kwd.SIDECHAIN
                ) return true;
                if( s.model!==undefined ) return true;
                if( s.chainname!==undefined ) return true;
                if( s.resname!==undefined ) return true;
                if( s.resno!==undefined ) return true;
                if( s.sstruc!==undefined ) return true;
                return false;
            } );

        }else{

            selection = this.selection;

        }

        var fn = function( a, s ){

            // returning -1 means the rule is not applicable
            if( s.atomname===undefined &amp;&amp; s.element===undefined &amp;&amp;
                    s.altloc===undefined &amp;&amp; s.atomindex===undefined &amp;&amp;
                    // s.keyword!==kwd.BACKBONE &amp;&amp; s.keyword!==kwd.SIDECHAIN &amp;&amp;
                    s.keyword===undefined &amp;&amp; s.inscode===undefined &amp;&amp;
                    s.resname===undefined &amp;&amp; s.sstruc===undefined &amp;&amp;
                    s.resno===undefined &amp;&amp; s.chainname===undefined &amp;&amp;
                    s.model===undefined
            ) return -1;

            if( s.keyword!==undefined ){
                if( s.keyword===kwd.BACKBONE &amp;&amp; !a.isBackbone() ) return false;
                if( s.keyword===kwd.SIDECHAIN &amp;&amp; !a.isSidechain() ) return false;

                if( s.keyword===kwd.HETERO &amp;&amp; !a.isHetero() ) return false;
                if( s.keyword===kwd.PROTEIN &amp;&amp; !a.isProtein() ) return false;
                if( s.keyword===kwd.NUCLEIC &amp;&amp; !a.isNucleic() ) return false;
                if( s.keyword===kwd.RNA &amp;&amp; !a.isRna() ) return false;
                if( s.keyword===kwd.DNA &amp;&amp; !a.isDna() ) return false;
                if( s.keyword===kwd.POLYMER &amp;&amp; !a.isPolymer() ) return false;
                if( s.keyword===kwd.WATER &amp;&amp; !a.isWater() ) return false;
                if( s.keyword===kwd.HELIX &amp;&amp; helixTypes.indexOf( a.sstruc )===-1 ) return false;
                if( s.keyword===kwd.SHEET &amp;&amp; sheetTypes.indexOf( a.sstruc )===-1 ) return false;
                if( s.keyword===kwd.ION &amp;&amp; !a.isIon() ) return false;
                if( s.keyword===kwd.SACCHARIDE &amp;&amp; !a.isSaccharide() ) return false;
            }

            if( s.atomname!==undefined &amp;&amp; s.atomname!==a.atomname ) return false;
            if( s.element!==undefined &amp;&amp; s.element!==a.element ) return false;
            if( s.altloc!==undefined &amp;&amp; s.altloc!==a.altloc ) return false;

            if( s.atomindex!==undefined &amp;&amp;
                    binarySearchIndexOf( s.atomindex, a.index ) &lt; 0
            ) return false;

            if( s.resname!==undefined &amp;&amp; s.resname!==a.resname ) return false;
            if( s.sstruc!==undefined &amp;&amp; s.sstruc!==a.sstruc ) return false;
            if( s.resno!==undefined ){
                if( Array.isArray( s.resno ) &amp;&amp; s.resno.length===2 ){
                    if( s.resno[0]&gt;a.resno || s.resno[1]&lt;a.resno ) return false;
                }else{
                    if( s.resno!==a.resno ) return false;
                }
            }
            if( s.inscode!==undefined &amp;&amp; s.inscode!==a.inscode ) return false;

            if( s.chainname!==undefined &amp;&amp; s.chainname!==a.chainname ) return false;
            if( s.model!==undefined &amp;&amp; s.model!==a.modelIndex ) return false;

            return true;

        };

        return this._makeTest( fn, selection );

    }

    makeResidueTest( residueOnly ){

        var helixTypes = [ &quot;h&quot;, &quot;g&quot;, &quot;i&quot; ];
        var sheetTypes = [ &quot;e&quot;, &quot;b&quot; ];

        var selection;

        if( residueOnly ){

            // console.log( this.selection )

            selection = this._filter( function( s ){
                if( s.keyword===kwd.BACKBONE || s.keyword===kwd.SIDECHAIN ) return true;
                if( s.model!==undefined ) return true;
                if( s.chainname!==undefined ) return true;
                if( s.atomname!==undefined ) return true;
                if( s.element!==undefined ) return true;
                if( s.altloc!==undefined ) return true;
                return false;
            } );

        }else{

            selection = this.selection;

        }

        var fn = function( r, s ){

            // returning -1 means the rule is not applicable
            if( s.resname===undefined &amp;&amp; s.resno===undefined &amp;&amp; s.inscode===undefined &amp;&amp;
                    s.sstruc===undefined &amp;&amp; s.model===undefined &amp;&amp; s.chainname===undefined &amp;&amp;
                    s.atomindex===undefined &amp;&amp;
                    ( s.keyword===undefined || s.keyword===kwd.BACKBONE || s.keyword===kwd.SIDECHAIN )
            ) return -1;

            if( s.keyword!==undefined ){
                if( s.keyword===kwd.HETERO &amp;&amp; !r.isHetero() ) return false;
                if( s.keyword===kwd.PROTEIN &amp;&amp; !r.isProtein() ) return false;
                if( s.keyword===kwd.NUCLEIC &amp;&amp; !r.isNucleic() ) return false;
                if( s.keyword===kwd.RNA &amp;&amp; !r.isRna() ) return false;
                if( s.keyword===kwd.DNA &amp;&amp; !r.isDna() ) return false;
                if( s.keyword===kwd.POLYMER &amp;&amp; !r.isPolymer() ) return false;
                if( s.keyword===kwd.WATER &amp;&amp; !r.isWater() ) return false;
                if( s.keyword===kwd.HELIX &amp;&amp; helixTypes.indexOf( r.sstruc )===-1 ) return false;
                if( s.keyword===kwd.SHEET &amp;&amp; sheetTypes.indexOf( r.sstruc )===-1 ) return false;
                if( s.keyword===kwd.ION &amp;&amp; !r.isIon() ) return false;
                if( s.keyword===kwd.SACCHARIDE &amp;&amp; !r.isSaccharide() ) return false;
            }

            if( s.atomindex!==undefined &amp;&amp;
                    rangeInSortedArray( s.atomindex, r.atomOffset, r.atomEnd ) === 0
            ) return false;

            if( s.resname!==undefined &amp;&amp; s.resname!==r.resname ) return false;
            if( s.sstruc!==undefined &amp;&amp; s.sstruc!==r.sstruc ) return false;
            if( s.resno!==undefined ){
                if( Array.isArray( s.resno ) &amp;&amp; s.resno.length===2 ){
                    if( s.resno[0]&gt;r.resno || s.resno[1]&lt;r.resno ) return false;
                }else{
                    if( s.resno!==r.resno ) return false;
                }
            }
            if( s.inscode!==undefined &amp;&amp; s.inscode!==r.inscode ) return false;

            if( s.chainname!==undefined &amp;&amp; s.chainname!==r.chainname ) return false;
            if( s.model!==undefined &amp;&amp; s.model!==r.modelIndex ) return false;

            return true;

        };

        return this._makeTest( fn, selection );

    }

    makeChainTest( chainOnly ){

        var selection;

        var chainKeywordList = [
            kwd.HETERO, kwd.PROTEIN, kwd.NUCLEIC, kwd.RNA, kwd.DNA,
            kwd.POLYMER, kwd.WATER, kwd.ION, kwd.SACCHARIDE
        ];

        if( chainOnly ){

            // console.log( this.selection )

            selection = this._filter( function( s ){
                if( s.keyword!==undefined &amp;&amp; !chainKeywordList.includes( s.keyword ) ) return true;
                // if( s.model!==undefined ) return true;
                if( s.resname!==undefined ) return true;
                if( s.resno!==undefined ) return true;
                if( s.atomname!==undefined ) return true;
                if( s.element!==undefined ) return true;
                if( s.altloc!==undefined ) return true;
                if( s.sstruc!==undefined ) return true;
                if( s.inscode!==undefined ) return true;
                return false;
            } );

        }else{

            selection = this.selection;

        }

        var fn = function( c, s ){

            // returning -1 means the rule is not applicable
            if( s.chainname===undefined &amp;&amp; s.model===undefined &amp;&amp; s.atomindex===undefined &amp;&amp;
                    ( s.keyword===undefined || !chainKeywordList.includes( s.keyword ) )
            ) return -1;

            if( s.keyword!==undefined ){
                if( s.keyword===kwd.HETERO &amp;&amp; !c.isHetero() ) return false;
                if( s.keyword===kwd.PROTEIN &amp;&amp; !c.isProtein() ) return false;
                if( s.keyword===kwd.NUCLEIC &amp;&amp; !c.isNucleic() ) return false;
                if( s.keyword===kwd.RNA &amp;&amp; !c.isRna() ) return false;
                if( s.keyword===kwd.DNA &amp;&amp; !c.isDna() ) return false;
                if( s.keyword===kwd.POLYMER &amp;&amp; !c.isPolymer() ) return false;
                if( s.keyword===kwd.WATER &amp;&amp; !c.isWater() ) return false;
                if( s.keyword===kwd.ION &amp;&amp; !c.isIon() ) return false;
                if( s.keyword===kwd.SACCHARIDE &amp;&amp; !c.isSaccharide() ) return false;
            }

            if( s.atomindex!==undefined &amp;&amp;
                    rangeInSortedArray( s.atomindex, c.atomOffset, c.atomEnd ) === 0
            ) return false;

            if( s.chainname!==undefined &amp;&amp; s.chainname!==c.chainname ) return false;

            if( s.model!==undefined &amp;&amp; s.model!==c.modelIndex ) return false;

            return true;

        };

        return this._makeTest( fn, selection );

    }

    makeModelTest( modelOnly ){

        var selection;

        if( modelOnly ){

            // console.log( this.selection )

            selection = this._filter( function( s ){
                if( s.keyword!==undefined ) return true;
                if( s.chainname!==undefined ) return true;
                if( s.resname!==undefined ) return true;
                if( s.resno!==undefined ) return true;
                if( s.atomname!==undefined ) return true;
                if( s.element!==undefined ) return true;
                if( s.altloc!==undefined ) return true;
                if( s.sstruc!==undefined ) return true;
                if( s.inscode!==undefined ) return true;
                return false;
            } );

        }else{

            selection = this.selection;

        }

        var fn = function( m, s ){

            // returning -1 means the rule is not applicable
            if( s.model===undefined &amp;&amp; s.atomindex===undefined ) return -1;

            if( s.atomindex!==undefined &amp;&amp;
                    rangeInSortedArray( s.atomindex, m.atomOffset, m.atomEnd ) === 0
            ) return false;

            if( s.model!==undefined &amp;&amp; s.model!==m.index ) return false;

            return true;

        };

        return this._makeTest( fn, selection );

    }

}


export default Selection;

export {
    kwd
};
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
